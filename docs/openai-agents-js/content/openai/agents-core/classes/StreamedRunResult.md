---
editUrl: false
next: false
prev: false
title: "StreamedRunResult"
---

The result of an agent run in streaming mode.

## Extends

- `RunResultBase`\<`TContext`, `TAgent`\>

## Type Parameters

<table>
<thead>
<tr>
<th>Type Parameter</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`TContext`

</td>
</tr>
<tr>
<td>

`TAgent` *extends* [`Agent`](/openai-agents-js/openai/agents-core/classes/agent/)\<`TContext`, [`AgentOutputType`](/openai-agents-js/openai/agents-core/type-aliases/agentoutputtype/)\>

</td>
</tr>
</tbody>
</table>

## Implements

- `AsyncIterable`\<[`RunStreamEvent`](/openai-agents-js/openai/agents-core/type-aliases/runstreamevent/)\>

## Constructors

### Constructor

```ts
new StreamedRunResult<TContext, TAgent>(result): StreamedRunResult<TContext, TAgent>
```

#### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`result`

</td>
<td>

\{ `signal`: `AbortSignal`; `state`: [`RunState`](/openai-agents-js/openai/agents-core/classes/runstate/)\<`TContext`, `TAgent`\>; \}

</td>
</tr>
<tr>
<td>

`result.signal`?

</td>
<td>

`AbortSignal`

</td>
</tr>
<tr>
<td>

`result.state`

</td>
<td>

[`RunState`](/openai-agents-js/openai/agents-core/classes/runstate/)\<`TContext`, `TAgent`\>

</td>
</tr>
</tbody>
</table>

#### Returns

`StreamedRunResult`\<`TContext`, `TAgent`\>

#### Overrides

```ts
RunResultBase<TContext, TAgent>.constructor
```

## Properties

### currentTurn

```ts
currentTurn: number = 0;
```

The current turn number

***

### maxTurns

```ts
maxTurns: undefined | number;
```

The maximum number of turns that can be run

***

### state

```ts
readonly state: RunState<TContext, TAgent>;
```

The state of the run.

#### Inherited from

```ts
RunResultBase.state
```

## Accessors

### cancelled

#### Get Signature

```ts
get cancelled(): boolean
```

Returns true if the stream has been cancelled.

##### Returns

`boolean`

***

### completed

#### Get Signature

```ts
get completed(): Promise<void>
```

Await this promise to ensure that the stream has been completed if you are not consuming the
stream directly.

##### Returns

`Promise`\<`void`\>

***

### currentAgent

#### Get Signature

```ts
get currentAgent(): undefined | TAgent
```

The current agent that is running

##### Returns

`undefined` \| `TAgent`

***

### error

#### Get Signature

```ts
get error(): unknown
```

Error thrown during the run, if any.

##### Returns

`unknown`

***

### finalOutput

#### Get Signature

```ts
get finalOutput(): undefined | ResolvedAgentOutput<TAgent["outputType"]>
```

The final output of the agent. If the output type was set to anything other than `text`,
this will be parsed either as JSON or using the Zod schema you provided.

##### Returns

`undefined` \| `ResolvedAgentOutput`\<`TAgent`\[`"outputType"`\]\>

#### Inherited from

```ts
RunResultBase.finalOutput
```

***

### history

#### Get Signature

```ts
get history(): AgentInputItem[]
```

The history of the agent run. This includes the input items and the new items generated during
the agent run.

This can be used as inputs for the next agent run.

##### Returns

[`AgentInputItem`](/openai-agents-js/openai/agents-core/type-aliases/agentinputitem/)[]

#### Inherited from

```ts
RunResultBase.history
```

***

### input

#### Get Signature

```ts
get input(): 
  | string
  | AgentInputItem[]
```

A copy of the original input items.

##### Returns

  \| `string`
  \| [`AgentInputItem`](/openai-agents-js/openai/agents-core/type-aliases/agentinputitem/)[]

#### Inherited from

```ts
RunResultBase.input
```

***

### inputGuardrailResults

#### Get Signature

```ts
get inputGuardrailResults(): InputGuardrailResult[]
```

Guardrail results for the input messages.

##### Returns

[`InputGuardrailResult`](/openai-agents-js/openai/agents-core/interfaces/inputguardrailresult/)[]

#### Inherited from

```ts
RunResultBase.inputGuardrailResults
```

***

### interruptions

#### Get Signature

```ts
get interruptions(): RunToolApprovalItem[]
```

Any interruptions that occurred during the agent run for example for tool approvals.

##### Returns

[`RunToolApprovalItem`](/openai-agents-js/openai/agents-core/classes/runtoolapprovalitem/)[]

#### Inherited from

```ts
RunResultBase.interruptions
```

***

### lastAgent

#### Get Signature

```ts
get lastAgent(): undefined | TAgent
```

The last agent that was run

##### Returns

`undefined` \| `TAgent`

#### Inherited from

```ts
RunResultBase.lastAgent
```

***

### lastResponseId

#### Get Signature

```ts
get lastResponseId(): undefined | string
```

The last response ID generated by the model during the agent run.

##### Returns

`undefined` \| `string`

#### Inherited from

```ts
RunResultBase.lastResponseId
```

***

### newItems

#### Get Signature

```ts
get newItems(): RunItem[]
```

The run items generated during the agent run. This associates the model data with the agents.

For the model data that can be used as inputs for the next agent run, use the `output` property.

##### Returns

[`RunItem`](/openai-agents-js/openai/agents-core/type-aliases/runitem/)[]

#### Inherited from

```ts
RunResultBase.newItems
```

***

### output

#### Get Signature

```ts
get output(): AgentOutputItem[]
```

The new items generated during the agent run. These include things like new messages, tool
calls and their outputs, etc.

It does not include information about the agents and instead represents the model data.

For the output including the agents, use the `newItems` property.

##### Returns

[`AgentOutputItem`](/openai-agents-js/openai/agents-core/type-aliases/agentoutputitem/)[]

#### Inherited from

```ts
RunResultBase.output
```

***

### outputGuardrailResults

#### Get Signature

```ts
get outputGuardrailResults(): OutputGuardrailResult<OutputGuardrailMetadata, "text">[]
```

Guardrail results for the final output of the agent.

##### Returns

[`OutputGuardrailResult`](/openai-agents-js/openai/agents-core/interfaces/outputguardrailresult/)\<`OutputGuardrailMetadata`, `"text"`\>[]

#### Inherited from

```ts
RunResultBase.outputGuardrailResults
```

***

### rawResponses

#### Get Signature

```ts
get rawResponses(): ModelResponse[]
```

The raw LLM responses generated by the model during the agent run.

##### Returns

[`ModelResponse`](/openai-agents-js/openai/agents-core/type-aliases/modelresponse/)[]

#### Inherited from

```ts
RunResultBase.rawResponses
```

## Methods

### \[asyncIterator\]()

```ts
asyncIterator: AsyncIterator<RunStreamEvent>
```

#### Returns

`AsyncIterator`\<[`RunStreamEvent`](/openai-agents-js/openai/agents-core/type-aliases/runstreamevent/)\>

#### Implementation of

```ts
AsyncIterable.[asyncIterator]
```

***

### toStream()

```ts
toStream(): ReadableStream<RunStreamEvent>
```

Returns the underlying readable stream.

#### Returns

`ReadableStream`\<[`RunStreamEvent`](/openai-agents-js/openai/agents-core/type-aliases/runstreamevent/)\>

A readable stream of the agent run.

***

### toTextStream()

#### Call Signature

```ts
toTextStream(): ReadableStream<string>
```

Returns a readable stream of the final text output of the agent run.

##### Returns

`ReadableStream`\<`string`\>

A readable stream of the final output of the agent run.

#### Call Signature

```ts
toTextStream(options?): Readable
```

Returns a readable stream of the final text output of the agent run.

##### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`options`?

</td>
<td>

\{ `compatibleWithNodeStreams`: `true`; \}

</td>
<td>

Options for the stream.

</td>
</tr>
<tr>
<td>

`options.compatibleWithNodeStreams`?

</td>
<td>

`true`

</td>
<td>

Whether to use Node.js streams or web standard streams.

</td>
</tr>
</tbody>
</table>

##### Returns

`Readable`

A readable stream of the final output of the agent run.

#### Call Signature

```ts
toTextStream(options?): ReadableStream<string>
```

Returns a readable stream of the final text output of the agent run.

##### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`options`?

</td>
<td>

\{ `compatibleWithNodeStreams`: `false`; \}

</td>
<td>

Options for the stream.

</td>
</tr>
<tr>
<td>

`options.compatibleWithNodeStreams`?

</td>
<td>

`false`

</td>
<td>

Whether to use Node.js streams or web standard streams.

</td>
</tr>
</tbody>
</table>

##### Returns

`ReadableStream`\<`string`\>

A readable stream of the final output of the agent run.
